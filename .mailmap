set GITHUB_COPILOT_COMMAND_TIMEOUT_SECONDS=1
set GITHUB_COPILOT_CONTEXT_MODE=incremental
docker system prune -a --volumes -f
docker compose down -v
docker compose pull
docker compose build
docker compose run --rm orchestrator bash -c "pip install -U pytest pytest-asyncio respx && pytest -vv"

docker compose up


curl -sS -OJ http://localhost:8000/export_csv


# (μόνο αν έχεις λόγο να τα διαγράψεις όλα)
docker compose down -v
docker compose pull
docker compose build --pull
docker compose up -d --wait      # περιμένει τα healthchecks
docker compose run --rm orchestrator bash -lc "pytest -vv"


auto gia tests
docker compose run --rm --service-ports orchestrator bash -lc '
   uvicorn orchestrator.app.main:app --host 0.0.0.0 --port 8000 &
   for i in $(seq 1 60); do
     if curl -sf http://localhost:8000/docs >/dev/null; then break; fi
     sleep 1
   done
   pytest -vv



